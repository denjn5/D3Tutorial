<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fun List</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <link rel="stylesheet" href="Libraries/css/bootstrap.css">
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
</head>
<style>

.img {
    padding-right: 8px;
}

.bs-callout {
    padding: 8px;
    margin: 6px 0;
    border: 1px solid #eee;
    border-right-width: 7px;
    border-radius: 3px;
}

.bs-callout-positive {
    border-right-color: #5cb85c;
}

.bs-callout-negative {
    border-right-color: #d9534f;
}


</style>
<body>
<div class="container">

</div>
</body>
<script>
    var posts = [{"html": "<a href='https://twitter.com/' target='_blank'><img src='//logo.clearbit.com/twitter.com?size=40' class='img' /></a><b>Author</b>. All of the tweet text here.", "sentiment": 1, "source": "twitter"},
    {"html": "<a href='https://twitter.com/' target='_blank'><img src='//logo.clearbit.com/twitter.com?size=40' class='img' /></a><b>Author</b>. All of the tweet text here.", "sentiment": 1, "source": "twitter"},
    {"html": "<a href='https://reddit.com/' target='_blank'><img src='//logo.clearbit.com/reddit.com?size=40' class='img' /></a><b>Title</b>. The first 30 words of the article<a href='#' class='textToggle' id='1'>...</a><span style='visibility: hidden' id='1t'>The 'rest' of the article here.</span>", "sentiment": 0, "source": "reddit"}];

    var div = d3.select(".container").selectAll("div").data(posts);

    div.enter().append('div').classed('row', true)
        .append('div').classed('bs-callout', true).classed( 'bs-callout-positive', function(d) {return d.sentiment === 1 })
        .classed( 'bs-callout-negative', function(d) {return d.sentiment === 0 })
        .html( function(d) { return d.html; });


    d3.selectAll(".textToggle").on("click", textToggle);


function textToggle() {
    var string = document.getElementById(this.id + 't');
    if (string.style.visibility === 'hidden') {
        string.style.visibility = '';
    } else {
        string.style.visibility = 'hidden';
    }
}



</script>

</html>